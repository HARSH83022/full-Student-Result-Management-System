{"ast":null,"code":"import React,{useState}from'react';import StudentList from'./components/StudentList';import StudentForm from'./components/StudentForm';import StudentDetails from'./components/StudentDetails';import{getAllStudents,createStudent,updateStudent,deleteStudent}from'./services/studentService';import'./App.css';import{jsx as _jsx,Fragment as _Fragment,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const[students,setStudents]=useState([]);const[view,setView]=useState('list');// list, form, details\nconst[currentStudent,setCurrentStudent]=useState(null);const[loading,setLoading]=useState(false);const[error,setError]=useState(null);const loadStudents=async()=>{setLoading(true);setError(null);try{const data=await getAllStudents();setStudents(data);}catch(err){setError(err.message);}finally{setLoading(false);}};const handleAddStudent=()=>{setCurrentStudent(null);setView('form');};const handleEditStudent=student=>{setCurrentStudent(student);setView('form');};const handleDeleteStudent=async id=>{if(window.confirm('Are you sure you want to delete this student?')){try{await deleteStudent(id);loadStudents();// Reload list\n}catch(err){setError(err.message);}}};const handleSaveStudent=async studentData=>{try{if(currentStudent){await updateStudent(currentStudent.id,studentData);}else{await createStudent(studentData);}setView('list');loadStudents();}catch(err){setError(err.message);}};const handleCancel=()=>{setView('list');};const handleViewDetails=student=>{// This function is not explicitly triggered by a button in the list as per requirements (only Edit/Delete),\n// but usually a details view is accessed by clicking the name or a view button.\n// I'll add a way to view details if needed, but for now sticking to requirements:\n// \"Student Details Page\" is required. I will assume clicking the name opens it.\n// I'll modify StudentList to allow clicking name to view details.\nsetCurrentStudent(student);setView('details');};// Modifying StudentList to pass onRowClick or similar if I want to support details view from list.\n// For now, I will add a \"View\" button to StudentList actions or make the name clickable.\n// Let's make the name clickable in StudentList. I'll need to update StudentList.jsx.\n// Wait, I already wrote StudentList.jsx. I should probably update it to include a \"View\" button or make name clickable.\n// The requirements say \"Student Details Page Shows: Name, Section, Marks, Grade\".\n// And \"View Students Load Students button... List all students... Edit... Delete\".\n// It doesn't explicitly say how to get to Details page, but it is a required page.\n// I will add a \"View\" button to the actions in StudentList.\nreturn/*#__PURE__*/_jsxs(\"div\",{className:\"app-container\",children:[/*#__PURE__*/_jsx(\"header\",{children:/*#__PURE__*/_jsx(\"h1\",{children:\"Student Result Management System\"})}),/*#__PURE__*/_jsxs(\"main\",{children:[error&&/*#__PURE__*/_jsx(\"div\",{className:\"error-message\",children:error}),loading&&/*#__PURE__*/_jsx(\"div\",{className:\"loading\",children:\"Loading...\"}),view==='list'&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn-add\",onClick:handleAddStudent,children:\"Add Student\"}),/*#__PURE__*/_jsx(StudentList,{students:students,onEdit:handleEditStudent,onDelete:handleDeleteStudent,onLoad:loadStudents,onView:student=>{setCurrentStudent(student);setView('details');}})]}),view==='form'&&/*#__PURE__*/_jsx(StudentForm,{currentStudent:currentStudent,onSave:handleSaveStudent,onCancel:handleCancel}),view==='details'&&/*#__PURE__*/_jsx(StudentDetails,{student:currentStudent,onBack:()=>setView('list')})]})]});}export default App;","map":{"version":3,"names":["React","useState","StudentList","StudentForm","StudentDetails","getAllStudents","createStudent","updateStudent","deleteStudent","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","App","students","setStudents","view","setView","currentStudent","setCurrentStudent","loading","setLoading","error","setError","loadStudents","data","err","message","handleAddStudent","handleEditStudent","student","handleDeleteStudent","id","window","confirm","handleSaveStudent","studentData","handleCancel","handleViewDetails","className","children","onClick","onEdit","onDelete","onLoad","onView","onSave","onCancel","onBack"],"sources":["C:/Users/harsh/OneDrive/Desktop/student/student-result-app/src/App.jsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport StudentList from './components/StudentList';\r\nimport StudentForm from './components/StudentForm';\r\nimport StudentDetails from './components/StudentDetails';\r\nimport { getAllStudents, createStudent, updateStudent, deleteStudent } from './services/studentService';\r\nimport './App.css';\r\n\r\nfunction App() {\r\n    const [students, setStudents] = useState([]);\r\n    const [view, setView] = useState('list'); // list, form, details\r\n    const [currentStudent, setCurrentStudent] = useState(null);\r\n    const [loading, setLoading] = useState(false);\r\n    const [error, setError] = useState(null);\r\n\r\n    const loadStudents = async () => {\r\n        setLoading(true);\r\n        setError(null);\r\n        try {\r\n            const data = await getAllStudents();\r\n            setStudents(data);\r\n        } catch (err) {\r\n            setError(err.message);\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    const handleAddStudent = () => {\r\n        setCurrentStudent(null);\r\n        setView('form');\r\n    };\r\n\r\n    const handleEditStudent = (student) => {\r\n        setCurrentStudent(student);\r\n        setView('form');\r\n    };\r\n\r\n    const handleDeleteStudent = async (id) => {\r\n        if (window.confirm('Are you sure you want to delete this student?')) {\r\n            try {\r\n                await deleteStudent(id);\r\n                loadStudents(); // Reload list\r\n            } catch (err) {\r\n                setError(err.message);\r\n            }\r\n        }\r\n    };\r\n\r\n    const handleSaveStudent = async (studentData) => {\r\n        try {\r\n            if (currentStudent) {\r\n                await updateStudent(currentStudent.id, studentData);\r\n            } else {\r\n                await createStudent(studentData);\r\n            }\r\n            setView('list');\r\n            loadStudents();\r\n        } catch (err) {\r\n            setError(err.message);\r\n        }\r\n    };\r\n\r\n    const handleCancel = () => {\r\n        setView('list');\r\n    };\r\n\r\n    const handleViewDetails = (student) => {\r\n        // This function is not explicitly triggered by a button in the list as per requirements (only Edit/Delete),\r\n        // but usually a details view is accessed by clicking the name or a view button.\r\n        // I'll add a way to view details if needed, but for now sticking to requirements:\r\n        // \"Student Details Page\" is required. I will assume clicking the name opens it.\r\n        // I'll modify StudentList to allow clicking name to view details.\r\n        setCurrentStudent(student);\r\n        setView('details');\r\n    };\r\n\r\n    // Modifying StudentList to pass onRowClick or similar if I want to support details view from list.\r\n    // For now, I will add a \"View\" button to StudentList actions or make the name clickable.\r\n    // Let's make the name clickable in StudentList. I'll need to update StudentList.jsx.\r\n    // Wait, I already wrote StudentList.jsx. I should probably update it to include a \"View\" button or make name clickable.\r\n    // The requirements say \"Student Details Page Shows: Name, Section, Marks, Grade\".\r\n    // And \"View Students Load Students button... List all students... Edit... Delete\".\r\n    // It doesn't explicitly say how to get to Details page, but it is a required page.\r\n    // I will add a \"View\" button to the actions in StudentList.\r\n\r\n    return (\r\n        <div className=\"app-container\">\r\n            <header>\r\n                <h1>Student Result Management System</h1>\r\n            </header>\r\n            <main>\r\n                {error && <div className=\"error-message\">{error}</div>}\r\n                {loading && <div className=\"loading\">Loading...</div>}\r\n\r\n                {view === 'list' && (\r\n                    <>\r\n                        <button className=\"btn-add\" onClick={handleAddStudent}>Add Student</button>\r\n                        <StudentList\r\n                            students={students}\r\n                            onEdit={handleEditStudent}\r\n                            onDelete={handleDeleteStudent}\r\n                            onLoad={loadStudents}\r\n                            onView={(student) => { setCurrentStudent(student); setView('details'); }}\r\n                        />\r\n                    </>\r\n                )}\r\n\r\n                {view === 'form' && (\r\n                    <StudentForm\r\n                        currentStudent={currentStudent}\r\n                        onSave={handleSaveStudent}\r\n                        onCancel={handleCancel}\r\n                    />\r\n                )}\r\n\r\n                {view === 'details' && (\r\n                    <StudentDetails\r\n                        student={currentStudent}\r\n                        onBack={() => setView('list')}\r\n                    />\r\n                )}\r\n            </main>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default App;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}